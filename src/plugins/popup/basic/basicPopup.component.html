<ng-template #defaultOptionTextLook let-option>{{option?.text}}</ng-template>

<div #popupDiv 
     *ngIf="options?.visible"
     [ngClass]="options?.cssClasses?.popupDiv">
    <ng-content></ng-content>

    <div *ngFor="let option of selectOptions"
         [ngClass]="options?.cssClasses?.optionItemDiv"
         [class.selected]="option?.selected"
         [class.active]="option?.active"
         (click)="optionClick?.emit(option)">
        <div [ngClass]="options?.cssClasses?.optionItemTextDiv">
            <ng-container *ngTemplateOutlet="templateGatherer?.optionTemplate || defaultOptionTextLook; context: {$implicit: option, popup: this}"></ng-container>
        </div>

        <div *ngIf="option?.selected && options?.multiple" [ngClass]="options?.cssClasses?.optionChecked"></div>
    </div>
</div>
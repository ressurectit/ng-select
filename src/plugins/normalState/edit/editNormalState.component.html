<div [ngClass]="options?.cssClasses?.normalStateElement" [title]="valueHandler?.selectedOptions | ngSelectValue: texts?.nothingSelected">
    <ng-template [ngIf]="pluginBus.selectOptions.multiple">
        <div *ngFor="let option of selectedOptions" [ngClass]="options?.cssClasses?.selectedMultiValueContainer">
            <span>{{option | ngSelectValue: texts?.nothingSelected: options?.optionDisplayText}}</span>
            <span [ngClass]="options?.cssClasses?.selectedMultiValueCancel"
                  (click)="pluginBus.optionCancel.emit(option)">x</span>
        </div>
    </ng-template>

    <ng-content></ng-content>

    <div *ngIf="options?.cancelButton && (valueHandler?.selectedOptions | ngSelectHasValue)"
         (click)="cancelSelected()"
         [ngClass]="options?.cssClasses?.cancelSelectedElement"></div>

    <div [ngClass]="options?.cssClasses?.selectedCarretWrapper" (click)="pluginBus?.togglePopup.emit(); pluginBus?.liveSearchFocus?.emit()" *ngIf="options?.showOptionsButton">
        <span [ngClass]="options?.cssClasses?.selectedCarret"></span>
    </div>
</div>